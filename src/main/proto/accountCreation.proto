syntax = "proto3";

option java_package = "io.github.pavelshe11.authmicro.grpc"; // место для генерации файлов
option java_outer_classname = "AccountCreationProto";

import "error.proto";

service AccountCreationService {
  rpc CreateAccount (CreateAccountRequest) returns (CreateAccountResponse) {}
}

message CreateAccountRequest {
  string email = 1;
  bool accepted_privacy_policy = 2;
  bool accepted_personal_data_processing = 3;
}

message CreateAccountResponse {
  oneof result {
    SuccessResponse success = 1;
    ErrorResponse error = 2;
  }
}

message SuccessResponse {
  string message = 1;
}

message ErrorResponse {
  string error = 1;
  repeated FieldError detailed_errors = 2;
}